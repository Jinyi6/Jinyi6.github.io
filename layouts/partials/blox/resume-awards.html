{{/* layouts/blocks/resume-awards.html */}}
{{/* é‡å†™ Hugo Blox çš„ â€œAwardsâ€ åŒºå—ï¼Œä½¿ç”¨è‡ªå®šä¹‰ .awards-list/.award-item CSS */}}

{{ $page := .wcPage }}
{{ $block := .wcBlock }}
{{ $author := $block.content.username | default "admin" }}
{{ $person_page := site.GetPage (printf "/authors/%s" $author) }}
{{ if not $person_page }}
{{ errorf "Could not find an author page." }}
{{ end }}
{{ $awards := $person_page.Params.awards }}

{{/* å¯é€‰ï¼šå…è®¸é€šè¿‡ block.design.date_format é…ç½®æ—¥æœŸæ ¼å¼ */}}
{{ $dateFmt := $block.design.date_format | default "2006-01" }}

<div class="flex flex-col items-center max-w-prose mx-auto gap-3 justify-center">

    <!-- 1. ä¿ç•™åŸ block title -->
    <!-- <div class="mb-6 text-3xl font-bold text-gray-900 dark:text-white">
      {{ $block.content.title | markdownify | emojify }}
    </div> -->
    <h3 class="mb-6 text-3xl font-bold text-gray-900 dark:text-white">{{ i18n "awards" | default "Awards" }}</h3>
  
    <!-- 4. æ¯ä¸ª item ä¹‹é—´é—´è·æ”¾å¤§åˆ° gap-6 -->
    <div class="w-full flex flex-col gap-1">
      {{ if $awards }}
        <!-- 1. å‡†å¤‡ä¸€ç»„å¤šæ ·åŒ–çš„ emoji -->
        {{ $emojis := slice "ğŸ†" "ğŸ“" "ğŸ¥‡" "ğŸ…" "ğŸ–ï¸" "âœ¨" }}
  
        {{ range $idx, $award := sort $awards ".date_start" "desc" }}
          {{/* è®¡ç®—æ—¥æœŸï¼Œè‹¥æ— åˆ™æ˜¾ç¤º Present */}}
          {{ $date := "" }}
          {{ with $award.date }}
            {{ $date = (time .) | time.Format ($block.design.date_format | default "January 2006") }}
          {{ else }}
            {{ $date = i18n "present" | default "Present" }}
          {{ end }}
          <!-- æ ¹æ®ç´¢å¼•é€‰å– emoji -->
          {{ $emoji := index $emojis (mod $idx (len $emojis)) }}
  
          <div class="mb-6">
            <!-- 2. date & title åŠ ç²—ï¼Œé»‘è‰² -->
            <p class="font-bold text-black dark:text-white">
             {{ $date }}&nbsp;&nbsp;&nbsp;&nbsp;{{ $emoji }} {{$award.title | markdownify | emojify }}
            </p>
            <!-- 3. awarder æ”¾åˆ°ç¬¬äºŒè¡Œï¼Œç°è‰²å°å­— -->
            <p class="text-gray-500 dark:text-gray-400 text-sm">
              by {{ $award.awarder | markdownify }}
            </p>
          </div>
        {{ end }}
      {{ end }}
    </div>
  </div>
  
  